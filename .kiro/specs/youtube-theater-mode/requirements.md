# 要件定義書

## 概要

YouTube 視聴時に動画以外の画面要素を薄暗くして目立たないようにし、動画コンテンツに集中できる環境を提供する Chrome 拡張機能。ユーザーが動画視聴に没入できるシアターモード体験を実現する。

## 要件

### 要件 1

**ユーザーストーリー:** YouTube ユーザーとして、動画視聴時に周囲の要素を薄暗くして動画に集中したいので、シアターモードを簡単に有効化できる機能が欲しい

#### 受け入れ基準

1. YouTube の動画ページにアクセスした時、拡張機能のアイコンまたはボタンが表示される
2. シアターモードボタンをクリックした時、動画プレーヤー以外の全ての要素（サイドバー、コメント欄、関連動画など）に半透明の暗いオーバーレイが適用される
3. 動画プレーヤー自体は通常の明度を保ち、クリアに表示される
4. シアターモードが有効な時、ボタンの表示が「有効」状態を示すように変化する

### 要件 2

**ユーザーストーリー:** シアターモードを使用中のユーザーとして、必要に応じて通常表示に戻したいので、簡単に無効化できる機能が欲しい

#### 受け入れ基準

1. シアターモード有効時に同じボタンをクリックすると、オーバーレイが除去される
2. 通常の表示状態に即座に戻る
3. ボタンの表示が「無効」状態を示すように変化する
4. ページを再読み込みした時、シアターモードは無効状態から開始される

### 要件 3

**ユーザーストーリー:** 頻繁に YouTube を利用するユーザーとして、キーボードショートカットでも操作したいので、キーボードからシアターモードを切り替えられる機能が欲しい

#### 受け入れ基準

1. 特定のキーボードショートカット（例：Ctrl+Shift+T）でシアターモードを切り替えられる
2. ショートカットは YouTube ページでのみ動作する
3. ショートカット実行時、ボタンの状態も連動して変化する
4. 他の YouTube ショートカットと競合しない

### 要件 4

**ユーザーストーリー:** ユーザーとして、シアターモードの見た目を好みに合わせたいので、オーバーレイの透明度を調整できる機能が欲しい

#### 受け入れ基準

1. 拡張機能の設定画面でオーバーレイの透明度を調整できる（0-90%の範囲）
2. 設定変更は即座に反映される
3. 設定はブラウザに保存され、次回アクセス時も維持される
4. デフォルトの透明度は 70%に設定される

### 要件 5

**ユーザーストーリー:** ユーザーとして、動画の操作は継続したいので、シアターモード中でも動画プレーヤーのコントロールは正常に使用できる機能が欲しい

#### 受け入れ基準

1. シアターモード有効時でも、動画の再生/一時停止、音量調整、シークバー操作が正常に動作する
2. 全画面表示への切り替えが正常に動作する
3. 動画の品質設定や字幕設定などのメニューが正常に操作できる
4. YouTube の標準キーボードショートカット（スペースキー、矢印キーなど）が正常に動作する
