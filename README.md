# YouTube Theater Mode

YouTube è¦–è´æ™‚ã«å‹•ç”»ä»¥å¤–ã®ç”»é¢è¦ç´ ã‚’è–„æš—ãã—ã¦ã€å‹•ç”»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«é›†ä¸­ã§ãã‚‹ç’°å¢ƒã‚’æä¾›ã™ã‚‹ Chrome æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚

[English](#english) | [æ—¥æœ¬èª](#japanese)

## Japanese

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

- **ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰**: éå‹•ç”»è¦ç´ ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ã‚³ãƒ¡ãƒ³ãƒˆã€é–¢é€£å‹•ç”»ï¼‰ã«åŠé€æ˜ã®æš—ã„ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’é©ç”¨
- **å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ä¿è­·**: å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã¨ãã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®å®Œå…¨ãªè¦–èªæ€§ã‚’ç¶­æŒ
- **ç°¡å˜åˆ‡ã‚Šæ›¿ãˆ**: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒœã‚¿ãƒ³ã¾ãŸã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã§ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ
- **é€æ˜åº¦èª¿æ•´**: ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®é€æ˜åº¦ã‚’ 0-90%ã®ç¯„å›²ã§èª¿æ•´å¯èƒ½
- **è¨­å®šæ°¸ç¶šåŒ–**: ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã§ã®è¨­å®šã®è‡ªå‹•ä¿å­˜
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ**: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œã¨ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•

### Chrome Web Store ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰

[Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chromewebstore.google.com/detail/youtube-theater-mode/bgmiamnfbabhimeoamhliglpdfiikkck)

### æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã¾ãŸã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```bash
git clone https://github.com/wpuzzle/youtube-theater-mode.git
```

2. Chrome ã§ `chrome://extensions/` ã‚’é–‹ã

3. å³ä¸Šã®ã€Œãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã€ã‚’æœ‰åŠ¹ã«ã™ã‚‹

4. ã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

5. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸæ‹¡å¼µæ©Ÿèƒ½ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬æ“ä½œ

1. **æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‹ã

2. **ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ**: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ã€Œã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ**: `Ctrl+Shift+T` ã§ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ

4. **é€æ˜åº¦èª¿æ•´**: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®é€æ˜åº¦ã‚’èª¿æ•´

### å¯¾å¿œãƒšãƒ¼ã‚¸

- YouTube å‹•ç”»ãƒšãƒ¼ã‚¸ï¼ˆ`youtube.com/watch`ï¼‰
- YouTube Shortsï¼ˆ`youtube.com/shorts`ï¼‰
- YouTube Live é…ä¿¡
- YouTube Premium å‹•ç”»

## âš™ï¸ è¨­å®š

### é€æ˜åº¦è¨­å®š

- **ç¯„å›²**: 0% - 90%
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**: 70%
- **èª¿æ•´**: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§èª¿æ•´

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**: `Ctrl+Shift+T`
- **æ©Ÿèƒ½**: ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ

## ğŸ› ï¸ æŠ€è¡“ä»•æ§˜

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Chrome Extension Manifest V3
- **è¨€èª**: JavaScript (ES6+), HTML5, CSS3
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: Chrome Storage API (sync)
- **ä¾å­˜é–¢ä¿‚**: ãªã—ï¼ˆPure Vanilla JavaScriptï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
/
â”œâ”€â”€ manifest.json                    # æ‹¡å¼µæ©Ÿèƒ½ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â”œâ”€â”€ background.js                    # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼
â”œâ”€â”€ content.js                       # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ popup.html                       # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—UI
â”œâ”€â”€ popup.js                         # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—æ©Ÿèƒ½
â”œâ”€â”€ popup.css                        # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ theater-mode.css                 # ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ background-service.js            # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹
â”œâ”€â”€ tab-state-manager.js             # ã‚¿ãƒ–çŠ¶æ…‹ç®¡ç†
â”œâ”€â”€ popup-content-communication.js   # é€šä¿¡ç®¡ç†
â”œâ”€â”€ performance-utils.js             # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
â”œâ”€â”€ accessibility-improvements.js    # ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½
â”œâ”€â”€ youtube-shortcut-protection.js   # ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¿è­·
â”œâ”€â”€ _locales/                        # å¤šè¨€èªå¯¾å¿œ
â”‚   â”œâ”€â”€ en/messages.json            # è‹±èªç¿»è¨³
â”‚   â””â”€â”€ ja/messages.json            # æ—¥æœ¬èªç¿»è¨³
â””â”€â”€ icons/                          # ã‚¢ã‚¤ã‚³ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
```

### ä¸»è¦ã‚¯ãƒ©ã‚¹

#### TheaterModeController

ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã®ä¸­æ ¸æ©Ÿèƒ½ã‚’ç®¡ç†

- ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®é©ç”¨/å‰Šé™¤
- é€æ˜åº¦èª¿æ•´
- çŠ¶æ…‹ç®¡ç†

#### ElementDetector

YouTube è¦ç´ ã®æ¤œå‡ºã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½

- å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼æ¤œå‡º
- ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤å¯¾è±¡è¦ç´ ã®ç‰¹å®š
- ä¿è­·å¯¾è±¡è¦ç´ ã®é™¤å¤–

#### SettingsManager

ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®ç®¡ç†

- Chrome Storage API é€£æº
- LocalStorage ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- è¨­å®šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
test-*.js           # å„æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
test-*.html         # HTMLãƒ†ã‚¹ãƒˆãƒãƒ¼ãƒã‚¹
run-*-tests.js      # ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•

1. **å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**:

```bash
# ãƒ–ãƒ©ã‚¦ã‚¶ã§å¯¾å¿œã™ã‚‹HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
open test-button-placement.html
```

2. **å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**:

```bash
# å„run-*-tests.jsãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œ
node run-element-tests.js
node run-layout-tests.js
node run-opacity-tests.js
```

### ãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒª

- **è¦ç´ æ¤œå‡ºãƒ†ã‚¹ãƒˆ**: YouTube è¦ç´ ã®æ­£ç¢ºãªæ¤œå‡º
- **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ**: æ§˜ã€…ãªç”»é¢ã‚µã‚¤ã‚ºã§ã®å‹•ä½œ
- **é€æ˜åº¦ãƒ†ã‚¹ãƒˆ**: ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤é€æ˜åº¦ã®èª¿æ•´
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é€£æº
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ**: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: å‹•ä½œé€Ÿåº¦ã¨ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡

## ğŸ”§ é–‹ç™º

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. **ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³**:

```bash
git clone https://github.com/wpuzzle/youtube-theater-mode.git
cd youtube-theater-mode
```

2. **æ‹¡å¼µæ©Ÿèƒ½èª­ã¿è¾¼ã¿**:

   - Chrome: `chrome://extensions/` â†’ ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ¢ãƒ¼ãƒ‰ â†’ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€

3. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•** (ã‚ªãƒ—ã‚·ãƒ§ãƒ³):

```bash
# ç°¡æ˜“HTTPã‚µãƒ¼ãƒãƒ¼ã§ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æä¾›
python -m http.server 8000
```

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

1. **ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°**:

   - F12 â†’ Console â†’ "YouTube Theater Mode:" ã§ãƒ•ã‚£ãƒ«ã‚¿

2. **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ã‚°**:

   - `chrome://extensions/` â†’ æ‹¡å¼µæ©Ÿèƒ½ã®ã€Œãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒšãƒ¼ã‚¸ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç¢ºèª**:
   - F12 â†’ Application â†’ Storage â†’ Chrome Extension

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- **JavaScript**: ES6+æ©Ÿèƒ½ã‚’å„ªå…ˆã€JSDoc ã‚³ãƒ¡ãƒ³ãƒˆå¿…é ˆ
- **CSS**: BEM é¢¨å‘½åè¦å‰‡ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- **HTML**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ HTML5ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å±æ€§

## ğŸŒ å¤šè¨€èªå¯¾å¿œ

æ‹¡å¼µæ©Ÿèƒ½ã¯è¤‡æ•°ã®è¨€èªã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

- **æ—¥æœ¬èª** (ja) - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
- **è‹±èª** (en)

ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨€èªè¨­å®šã‹ã‚‰è‡ªå‹•çš„ã«è¨€èªãŒæ¤œå‡ºã•ã‚Œã¾ã™ã€‚æ–°ã—ã„è¨€èªã‚’è¿½åŠ ã™ã‚‹ã«ã¯ï¼š

1. `_locales/[è¨€èªã‚³ãƒ¼ãƒ‰]/messages.json` ã‚’ä½œæˆ
2. ã™ã¹ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¼ã®ç¿»è¨³ã‚’è¿½åŠ 
3. ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨€èªè¨­å®šã§ãƒ†ã‚¹ãƒˆ

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ

[Issues](https://github.com/wpuzzle/youtube-theater-mode/issues)ã§ãƒã‚°ã‚’å ±å‘Šã—ã¦ãã ã•ã„ã€‚

### æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

æ–°æ©Ÿèƒ½ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã¯[Discussions](https://github.com/wpuzzle/youtube-theater-mode/discussions)ã§è­°è«–ã—ã¾ã—ã‚‡ã†ã€‚

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

1. ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. å¤‰æ›´ã‚’å®Ÿè£…
3. ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ /æ›´æ–°
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯[LICENSE](LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- [Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chromewebstore.google.com/detail/youtube-theater-mode/bgmiamnfbabhimeoamhliglpdfiikkck) (æº–å‚™ä¸­)
- [é–‹ç™ºè€…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](docs/)

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- **ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ**: [GitHub Issues](https://github.com/wpuzzle/youtube-theater-mode/issues)
- **è³ªå•ãƒ»è­°è«–**: [GitHub Discussions](https://github.com/wpuzzle/youtube-theater-mode/discussions)

---

**YouTube Theater Mode** - ã‚ˆã‚Šé›†ä¸­ã§ãã‚‹ YouTube è¦–è´ä½“é¨“ã‚’æä¾›ã—ã¾ã™ ğŸ¬

---

## English

A Chrome extension that dims non-video elements on YouTube to create a focused viewing environment while maintaining full functionality of the video player.

## ğŸ¯ Key Features

- **Theater Mode**: Apply a semi-transparent dark overlay to non-video elements (sidebar, comments, related videos)
- **Video Player Protection**: Maintain complete visibility of the video player and its controls
- **Easy Toggle**: Switch theater mode on/off with popup button or keyboard shortcut
- **Opacity Adjustment**: Adjust overlay opacity from 0-90%
- **Settings Persistence**: Automatically save settings between sessions
- **Accessibility Support**: Screen reader compatible with keyboard navigation

## ğŸš€ Installation

### From Chrome Web Store (Recommended)

[Chrome Web Store](https://chromewebstore.google.com/detail/youtube-theater-mode/bgmiamnfbabhimeoamhliglpdfiikkck)

### Manual Installation (For Developers)

1. Clone or download this repository

```bash
git clone https://github.com/wpuzzle/youtube-theater-mode.git
```

2. Open Chrome and navigate to `chrome://extensions/`

3. Enable "Developer mode" in the top right

4. Click "Load unpacked"

5. Select the downloaded extension folder

## ğŸ“– Usage

### Basic Operations

1. **Click Extension Icon**: Click the extension icon in the browser toolbar to open the popup

2. **Toggle Theater Mode**: Click the "Theater Mode" button in the popup

3. **Keyboard Shortcut**: Use `Ctrl+Shift+T` to toggle theater mode

4. **Adjust Opacity**: Use the slider in the popup to adjust overlay opacity

### Supported Pages

- YouTube video pages (`youtube.com/watch`)
- YouTube Shorts (`youtube.com/shorts`)
- YouTube Live streams
- YouTube Premium videos

## âš™ï¸ Settings

### Opacity Settings

- **Range**: 0% - 90%
- **Default**: 70%
- **Adjustment**: Use the slider in the popup

### Keyboard Shortcuts

- **Default**: `Ctrl+Shift+T`
- **Function**: Toggle theater mode on/off

## ğŸ› ï¸ Technical Specifications

### Technology Stack

- **Framework**: Chrome Extension Manifest V3
- **Languages**: JavaScript (ES6+), HTML5, CSS3
- **Storage**: Chrome Storage API (sync)
- **Dependencies**: None (Pure Vanilla JavaScript)

### File Structure

```
/
â”œâ”€â”€ manifest.json                    # Extension manifest
â”œâ”€â”€ background.js                    # Background service worker
â”œâ”€â”€ content.js                       # Main content script
â”œâ”€â”€ popup.html                       # Popup UI
â”œâ”€â”€ popup.js                         # Popup functionality
â”œâ”€â”€ popup.css                        # Popup styles
â”œâ”€â”€ theater-mode.css                 # Theater mode styles
â”œâ”€â”€ background-service.js            # Background service
â”œâ”€â”€ tab-state-manager.js             # Tab state management
â”œâ”€â”€ popup-content-communication.js   # Communication management
â”œâ”€â”€ performance-utils.js             # Performance optimization
â”œâ”€â”€ accessibility-improvements.js    # Accessibility features
â”œâ”€â”€ youtube-shortcut-protection.js   # Shortcut protection
â”œâ”€â”€ _locales/                        # Internationalization
â”‚   â”œâ”€â”€ en/messages.json            # English translations
â”‚   â””â”€â”€ ja/messages.json            # Japanese translations
â””â”€â”€ icons/                          # Icon files
```

### Main Classes

#### TheaterModeController

Manages core theater mode functionality

- Apply/remove overlay
- Opacity adjustment
- State management

#### ElementDetector

YouTube element detection with fallback functionality

- Video player detection
- Identify overlay target elements
- Exclude protected elements

#### SettingsManager

User settings management

- Chrome Storage API integration
- LocalStorage fallback
- Settings validation

## ğŸ§ª Testing

### Test File Structure

```
test-*.js           # Test files for each feature
test-*.html         # HTML test harnesses
run-*-tests.js      # Test runners
```

### Running Tests

1. **Individual Test Execution**:

```bash
# Open corresponding HTML file in browser
open test-button-placement.html
```

2. **Run All Tests**:

```bash
# Execute each run-*-tests.js file
node run-element-tests.js
node run-layout-tests.js
node run-opacity-tests.js
```

### Test Categories

- **Element Detection Tests**: Accurate detection of YouTube elements
- **Layout Tests**: Behavior across different screen sizes
- **Opacity Tests**: Overlay opacity adjustment
- **Integration Tests**: Component interaction
- **Accessibility Tests**: Screen reader compatibility
- **Performance Tests**: Speed and memory usage

## ğŸ”§ Development

### Development Environment Setup

1. **Clone Repository**:

```bash
git clone https://github.com/wpuzzle/youtube-theater-mode.git
cd youtube-theater-mode
```

2. **Load Extension**:

   - Chrome: `chrome://extensions/` â†’ Developer mode â†’ Load unpacked

3. **Start Development Server** (Optional):

```bash
# Serve test files with simple HTTP server
python -m http.server 8000
```

### Debugging Methods

1. **Console Logs**:

   - F12 â†’ Console â†’ Filter by "YouTube Theater Mode:"

2. **Background Logs**:

   - `chrome://extensions/` â†’ Click "background page" for the extension

3. **Storage Inspection**:
   - F12 â†’ Application â†’ Storage â†’ Chrome Extension

### Coding Standards

- **JavaScript**: Prefer ES6+ features, JSDoc comments required
- **CSS**: BEM-style naming convention, responsive design
- **HTML**: Semantic HTML5, accessibility attributes

## ğŸŒ Internationalization

The extension supports multiple languages:

- **Japanese** (ja) - Default
- **English** (en)

Language is automatically detected from browser settings. To add new languages:

1. Create `_locales/[language_code]/messages.json`
2. Add translations for all message keys
3. Test with browser language settings

## ğŸ¤ Contributing

### Bug Reports

Report bugs in [Issues](https://github.com/wpuzzle/youtube-theater-mode/issues).

### Feature Requests

Discuss new feature ideas in [Discussions](https://github.com/wpuzzle/youtube-theater-mode/discussions).

### Pull Requests

1. Fork and create a branch
2. Implement changes
3. Add/update tests
4. Create pull request

## ğŸ“„ License

MIT License - See [LICENSE](LICENSE) file for details

## ğŸ”— Related Links

- [Chrome Web Store](https://chromewebstore.google.com/detail/youtube-theater-mode/bgmiamnfbabhimeoamhliglpdfiikkck) (Coming Soon)
- [Developer Documentation](docs/)

## ğŸ“ Support

- **Bug Reports**: [GitHub Issues](https://github.com/wpuzzle/youtube-theater-mode/issues)
- **Questions & Discussion**: [GitHub Discussions](https://github.com/wpuzzle/youtube-theater-mode/discussions)

---

**YouTube Theater Mode** - Creating a more focused YouTube viewing experience ğŸ¬
