<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Theater Mode - ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ä¿è­·çµ±åˆãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f9f9f9;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #c00;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 5px;
        }
        .test-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .test-description {
            margin-bottom: 15px;
            color: #666;
        }
        .test-controls {
            margin-bottom: 15px;
        }
        button {
            background-color: #c00;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }
        button:hover {
            background-color: #a00;
        }
        .results {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            white-space: pre-wrap;
        }
        .mock-player {
            width: 640px;
            height: 360px;
            background-color: #000;
            position: relative;
            margin: 20px 0;
        }
        .mock-video {
            width: 100%;
            height: 100%;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }
        .mock-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            padding: 0 10px;
        }
        .shortcut-info {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 15px;
        }
        .shortcut-key {
            display: inline-block;
            background-color: #eee;
            border: 1px solid #ccc;
            border-radius: 3px;
            padding: 2px 6px;
            margin: 0 3px;
            font-family: monospace;
        }
        .theater-mode-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 9998;
            pointer-events: none;
        }
        .theater-mode-video-area {
            position: relative;
            z-index: 9999;
            pointer-events: auto;
        }
        .log-entry {
            margin: 5px 0;
            padding: 3px 0;
            border-bottom: 1px solid #eee;
        }
        .log-entry.success {
            color: green;
        }
        .log-entry.error {
            color: red;
        }
        .log-entry.info {
            color: blue;
        }
        .keyboard-guide {
            margin-top: 20px;
            padding: 10px;
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .keyboard-guide h3 {
            margin-top: 0;
        }
        .keyboard-guide table {
            width: 100%;
            border-collapse: collapse;
        }
        .keyboard-guide th, .keyboard-guide td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .keyboard-guide th {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>YouTube Theater Mode - ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ä¿è­·çµ±åˆãƒ†ã‚¹ãƒˆ</h1>
        
        <div class="test-section">
            <div class="test-title">ãƒ†ã‚¹ãƒˆ: YouTube ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ä¿è­·ã®çµ±åˆ</div>
            <div class="test-description">
                ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹æ™‚ã« YouTube ã®æ¨™æº–ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ï¼ˆã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã€çŸ¢å°ã‚­ãƒ¼ãªã©ï¼‰ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
                ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã€å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®æ“ä½œãŒå¯èƒ½ã‹ã©ã†ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚
            </div>
            
            <div class="shortcut-info">
                <strong>ãƒ†ã‚¹ãƒˆæ–¹æ³•:</strong> ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã—ãŸçŠ¶æ…‹ã§ã€ä»¥ä¸‹ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚
                å„ã‚­ãƒ¼ã®å‹•ä½œãŒæ­£ã—ãè¨˜éŒ²ã•ã‚Œã¾ã™ã€‚
            </div>
            
            <div class="mock-player" id="movie_player" tabindex="0">
                <div class="mock-video" id="mockVideo">
                    ãƒ¢ãƒƒã‚¯å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼
                </div>
                <div class="mock-controls" id="mockControls">
                    <button class="ytp-play-button" id="playButton">â–¶</button>
                    <div class="ytp-progress-bar" id="progressBar">
                        <div class="ytp-progress-bar-filled" id="progressFilled"></div>
                    </div>
                    <button class="ytp-mute-button" id="volumeButton">ğŸ”Š</button>
                    <button class="ytp-fullscreen-button" id="fullscreenButton">â›¶</button>
                </div>
            </div>
            
            <div class="keyboard-guide">
                <h3>ãƒ†ã‚¹ãƒˆç”¨ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼</h3>
                <table>
                    <tr>
                        <th>ã‚­ãƒ¼</th>
                        <th>æ©Ÿèƒ½</th>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">Space</span> ã¾ãŸã¯ <span class="shortcut-key">K</span></td>
                        <td>å†ç”Ÿ/ä¸€æ™‚åœæ­¢</td>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">â†</span> ã¾ãŸã¯ <span class="shortcut-key">J</span></td>
                        <td>å·»ãæˆ»ã—</td>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">â†’</span> ã¾ãŸã¯ <span class="shortcut-key">L</span></td>
                        <td>æ—©é€ã‚Š</td>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">â†‘</span></td>
                        <td>éŸ³é‡ã‚¢ãƒƒãƒ—</td>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">â†“</span></td>
                        <td>éŸ³é‡ãƒ€ã‚¦ãƒ³</td>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">M</span></td>
                        <td>ãƒŸãƒ¥ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ</td>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">F</span></td>
                        <td>ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆ</td>
                    </tr>
                    <tr>
                        <td><span class="shortcut-key">0-9</span></td>
                        <td>å‹•ç”»ã®ç‰¹å®šä½ç½®ã¸ç§»å‹•</td>
                    </tr>
                </table>
            </div>
            
            <div class="test-controls">
                <button id="toggleTheaterMode">ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ</button>
                <button id="runTests">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
                <button id="clearLog">ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢</button>
            </div>
            
            <div class="results" id="testResults"></div>
        </div>
    </div>

    <script src="../youtube-shortcut-protection.js"></script>
    <script>
        // ãƒ†ã‚¹ãƒˆãƒ­ã‚°æ©Ÿèƒ½
        function log(message, type = 'info') {
            const resultsElement = document.getElementById('testResults');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            resultsElement.appendChild(logEntry);
            resultsElement.scrollTop = resultsElement.scrollHeight;
            
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        // ãƒ¢ãƒƒã‚¯TheaterModeController
        class TheaterModeController {
            constructor() {
                this.isTheaterModeActive = false;
                this.overlayElement = null;
                this.currentOpacity = 0.7;
                
                // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
                document.getElementById('toggleTheaterMode').addEventListener('click', () => {
                    this.toggleTheaterMode();
                });
                
                document.getElementById('runTests').addEventListener('click', () => {
                    this.runShortcutTests();
                });
                
                document.getElementById('clearLog').addEventListener('click', () => {
                    document.getElementById('testResults').innerHTML = '';
                });
                
                // ãƒ¢ãƒƒã‚¯ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
                this.setupMockPlayer();
                
                // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¿è­·ã‚’åˆæœŸåŒ–
                this.initializeShortcutProtection();
            }
            
            initializeShortcutProtection() {
                this.shortcutProtection = new YouTubeShortcutProtection();
                this.shortcutProtection.initialize(this);
                log('ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¿è­·æ©Ÿèƒ½ãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸ', 'info');
            }
            
            setupMockPlayer() {
                // å†ç”Ÿ/ä¸€æ™‚åœæ­¢ãƒœã‚¿ãƒ³
                document.getElementById('playButton').addEventListener('click', () => {
                    const button = document.getElementById('playButton');
                    if (button.textContent === 'â–¶') {
                        button.textContent = 'â¸';
                        log('å†ç”Ÿãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ', 'success');
                    } else {
                        button.textContent = 'â–¶';
                        log('ä¸€æ™‚åœæ­¢ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ', 'success');
                    }
                });
                
                // éŸ³é‡ãƒœã‚¿ãƒ³
                document.getElementById('volumeButton').addEventListener('click', () => {
                    const button = document.getElementById('volumeButton');
                    if (button.textContent === 'ğŸ”Š') {
                        button.textContent = 'ğŸ”‡';
                        log('ãƒŸãƒ¥ãƒ¼ãƒˆãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸ', 'success');
                    } else {
                        button.textContent = 'ğŸ”Š';
                        log('ãƒŸãƒ¥ãƒ¼ãƒˆãŒè§£é™¤ã•ã‚Œã¾ã—ãŸ', 'success');
                    }
                });
                
                // ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒœã‚¿ãƒ³
                document.getElementById('fullscreenButton').addEventListener('click', () => {
                    log('ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ', 'success');
                    this.toggleFullscreen();
                });
                
                // ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’è¨­å®š
                document.getElementById('movie_player').focus();
            }
            
            toggleTheaterMode() {
                if (this.isTheaterModeActive) {
                    this.disableTheaterMode();
                } else {
                    this.enableTheaterMode();
                }
            }
            
            enableTheaterMode() {
                log('ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–ã—ã¦ã„ã¾ã™...', 'info');
                
                this.applyOverlay();
                this.isTheaterModeActive = true;
                
                document.getElementById('toggleTheaterMode').textContent = 'ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–';
                log('ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸ', 'success');
                
                // ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«å†åº¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹
                document.getElementById('movie_player').focus();
            }
            
            disableTheaterMode() {
                log('ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹åŒ–ã—ã¦ã„ã¾ã™...', 'info');
                
                this.removeOverlay();
                this.isTheaterModeActive = false;
                
                document.getElementById('toggleTheaterMode').textContent = 'ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–';
                log('ã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ãŒç„¡åŠ¹ã«ãªã‚Šã¾ã—ãŸ', 'success');
                
                // ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«å†åº¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹
                document.getElementById('movie_player').focus();
            }
            
            applyOverlay() {
                // æ—¢å­˜ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’å‰Šé™¤
                this.removeOverlay();
                
                try {
                    // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¦ç´ ã‚’ä½œæˆ
                    this.overlayElement = document.createElement('div');
                    this.overlayElement.className = 'theater-mode-overlay';
                    this.overlayElement.style.backgroundColor = `rgba(0, 0, 0, ${this.currentOpacity})`;
                    
                    // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’ãƒšãƒ¼ã‚¸ã«è¿½åŠ 
                    document.body.appendChild(this.overlayElement);
                    
                    // å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚’ä¿è­·ï¼ˆz-indexã‚’ä¸Šã’ã‚‹ï¼‰
                    const videoPlayer = document.getElementById('movie_player');
                    if (videoPlayer) {
                        videoPlayer.classList.add('theater-mode-video-area');
                        log('å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‹ã‚‰ä¿è­·ã•ã‚Œã¾ã—ãŸ', 'success');
                    } else {
                        log('å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ', 'error');
                    }
                } catch (error) {
                    log(`ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤é©ç”¨ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`, 'error');
                    this.removeOverlay();
                }
            }
            
            removeOverlay() {
                try {
                    // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¦ç´ ã‚’å‰Šé™¤
                    if (this.overlayElement && this.overlayElement.parentNode) {
                        this.overlayElement.parentNode.removeChild(this.overlayElement);
                    }
                    this.overlayElement = null;
                    
                    // å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®ä¿è­·ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
                    const videoPlayer = document.getElementById('movie_player');
                    if (videoPlayer) {
                        videoPlayer.classList.remove('theater-mode-video-area');
                    }
                    
                    log('ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸ', 'info');
                } catch (error) {
                    log(`ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤å‰Šé™¤ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`, 'error');
                }
            }
            
            toggleFullscreen() {
                try {
                    const player = document.getElementById('movie_player');
                    if (!document.fullscreenElement) {
                        if (player.requestFullscreen) {
                            player.requestFullscreen();
                        }
                        log('ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã—ãŸ', 'success');
                    } else {
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                        }
                        log('ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ¢ãƒ¼ãƒ‰ã‚’çµ‚äº†ã—ã¾ã—ãŸ', 'success');
                    }
                } catch (error) {
                    log(`ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`, 'error');
                }
            }
            
            runShortcutTests() {
                log('=== ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ãƒ†ã‚¹ãƒˆé–‹å§‹ ===', 'info');
                
                // ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹
                document.getElementById('movie_player').focus();
                
                // å„ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                const testKeys = [
                    { key: ' ', name: 'ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ (å†ç”Ÿ/ä¸€æ™‚åœæ­¢)' },
                    { key: 'k', name: 'Kã‚­ãƒ¼ (å†ç”Ÿ/ä¸€æ™‚åœæ­¢)' },
                    { key: 'ArrowLeft', name: 'å·¦çŸ¢å°ã‚­ãƒ¼ (å·»ãæˆ»ã—)' },
                    { key: 'j', name: 'Jã‚­ãƒ¼ (å·»ãæˆ»ã—)' },
                    { key: 'ArrowRight', name: 'å³çŸ¢å°ã‚­ãƒ¼ (æ—©é€ã‚Š)' },
                    { key: 'l', name: 'Lã‚­ãƒ¼ (æ—©é€ã‚Š)' },
                    { key: 'ArrowUp', name: 'ä¸ŠçŸ¢å°ã‚­ãƒ¼ (éŸ³é‡ã‚¢ãƒƒãƒ—)' },
                    { key: 'ArrowDown', name: 'ä¸‹çŸ¢å°ã‚­ãƒ¼ (éŸ³é‡ãƒ€ã‚¦ãƒ³)' },
                    { key: 'm', name: 'Mã‚­ãƒ¼ (ãƒŸãƒ¥ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ)' },
                    { key: 'f', name: 'Fã‚­ãƒ¼ (ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆ)' },
                    { key: '0', name: '0ã‚­ãƒ¼ (å‹•ç”»ã®å…ˆé ­ã¸)' },
                    { key: '5', name: '5ã‚­ãƒ¼ (å‹•ç”»ã®50%ä½ç½®ã¸)' }
                ];
                
                // å„ã‚­ãƒ¼ã‚’é †ç•ªã«ãƒ†ã‚¹ãƒˆ
                let index = 0;
                const testNextKey = () => {
                    if (index >= testKeys.length) {
                        log('=== ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ãƒ†ã‚¹ãƒˆå®Œäº† ===', 'success');
                        return;
                    }
                    
                    const testKey = testKeys[index++];
                    log(`ãƒ†ã‚¹ãƒˆ: ${testKey.name}`, 'info');
                    
                    // ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                    const keyEvent = new KeyboardEvent('keydown', { key: testKey.key, bubbles: true });
                    document.getElementById('movie_player').dispatchEvent(keyEvent);
                    
                    // æ¬¡ã®ã‚­ãƒ¼ãƒ†ã‚¹ãƒˆã‚’äºˆç´„
                    setTimeout(testNextKey, 500);
                };
                
                // ãƒ†ã‚¹ãƒˆé–‹å§‹
                testNextKey();
            }
        }
        
        // ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            const controller = new TheaterModeController();
            log('ãƒ†ã‚¹ãƒˆç’°å¢ƒãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸã€‚ã€Œã‚·ã‚¢ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚', 'info');
        });
    </script>
</body>
</html>